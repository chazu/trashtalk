is_a Object
include Debuggable
instance_vars value

# Counter object with instance variable for value

# Initialize counter
new() {
    local counter_id=$(_generate_instance_id "Counter")
    _create_instance "Counter" "$counter_id"
    @ $counter_id setValue 0
    echo "$counter_id"
}

# Increment by amount (default 1)
increment() {
    local amount="${1:-1}"
    local current=$(@ $_RECEIVER getValue)
    local new_value=$((current + amount))
    @ $_RECEIVER setValue "$new_value"
}

# Decrement by amount (default 1)
decrement() {
    local amount="${1:-1}"
    local current=$(@ $_RECEIVER getValue)
    local new_value=$((current - amount))
    @ $_RECEIVER setValue "$new_value"
}

# Reset to zero
reset() {
    @ $_RECEIVER setValue 0
}

# Show current state
show() {
    echo "Counter $_RECEIVER: $(@ $_RECEIVER getValue)"
}
