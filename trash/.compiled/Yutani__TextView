#!/usr/bin/env bash
# Generated by Trashtalk Compiler (jq) - DO NOT EDIT
# Source: TextView.trash
# Generated: 2026-01-09T18:05:44

__Yutani__TextView__superclass="Yutani::Widget"
__Yutani__TextView__instanceVars="text:"
__Yutani__TextView__classInstanceVars=""
__Yutani__TextView__traits=""
__Yutani__TextView__sourceHash="04c856b98bccc2a186ba420203a01f0400dd5ddfcb9fa41a1c228c1ac94184e2"
__Yutani__TextView__package="Yutani"
__Yutani__TextView__qualifiedName="Yutani::TextView"

__Yutani__TextView__source() {
  cat <<'__TRASHTALK_SOURCE_EOF__'
package: Yutani

TextView subclass: Yutani::Widget
  instanceVars: text:''

  # Create a new TextView with given title
  rawClassMethod: titled: title inSession: session [
    local title="$1" session="$2"
    local instance wid
    instance=$(_generate_instance_id "Yutani__TextView")
    _create_instance "Yutani::TextView" "$instance"
    @ "$instance" setSession: "$session"
    @ "$instance" setTitle: "$title"
    # Create the widget on the server
    wid=$(@ "$session" createTextView: "$title")
    @ "$instance" setWidgetId: "$wid"
    echo "$instance"
  ]

  # Create a new TextView with title and initial text
  rawClassMethod: titled: title text: initialText inSession: session [
    local title="$1" initialText="$2" session="$3"
    local instance wid
    instance=$(_generate_instance_id "Yutani__TextView")
    _create_instance "Yutani::TextView" "$instance"
    @ "$instance" setSession: "$session"
    @ "$instance" setTitle: "$title"
    @ "$instance" _setText: "$initialText"
    # Create the widget on the server
    wid=$(@ "$session" createTextViewWithText: "$title" text: "$initialText")
    @ "$instance" setWidgetId: "$wid"
    echo "$instance"
  ]

  # Get current text
  method: getText [
    ^ text
  ]

  # Set text (internal, no server update)
  method: _setText: t [
    text := t
  ]

  # Set text content (updates server)
  rawMethod: setText: newText [
    local newText="$1" session wid
    session="$(_ivar session)"
    wid="$(_ivar widgetId)"
    _ivar_set text "$newText"
    @ "$session" setText: "$newText" on: "$wid"
  ]

  # Append text
  rawMethod: appendText: moreText [
    local moreText="$1" session wid currentText
    session="$(_ivar session)"
    wid="$(_ivar widgetId)"
    currentText="$(_ivar text)"
    currentText="${currentText}${moreText}"
    _ivar_set text "$currentText"
    @ "$session" setText: "$currentText" on: "$wid"
  ]

  # Clear text
  rawMethod: clear [
    local session wid
    session="$(_ivar session)"
    wid="$(_ivar widgetId)"
    _ivar_set text ""
    @ "$session" setText: "" on: "$wid"
  ]
__TRASHTALK_SOURCE_EOF__
}

__Yutani__TextView__text() {
  echo "$(_ivar text)"; return
}

__Yutani__TextView__text_() {
  _ivar_set text "$1"
}

__Yutani__TextView__getText() {
  echo "$(_ivar text)"; return
}

__Yutani__TextView__setText_() {
  _ivar_set text "$1"
}

__Yutani__TextView__class__titled_inSession_() {
  local title="$1"
  local session="$2"
    local title="$1" session="$2"
    local instance wid
    instance=$(_generate_instance_id "Yutani__TextView")
    _create_instance "Yutani::TextView" "$instance"
    @ "$instance" setSession: "$session"
    @ "$instance" setTitle: "$title"
    # Create the widget on the server
    wid=$(@ "$session" createTextView: "$title")
    @ "$instance" setWidgetId: "$wid"
    echo "$instance"
}

__Yutani__TextView__class__titled_text_inSession_() {
  local title="$1"
  local initialText="$2"
  local session="$3"
    local title="$1" initialText="$2" session="$3"
    local instance wid
    instance=$(_generate_instance_id "Yutani__TextView")
    _create_instance "Yutani::TextView" "$instance"
    @ "$instance" setSession: "$session"
    @ "$instance" setTitle: "$title"
    @ "$instance" _setText: "$initialText"
    # Create the widget on the server
    wid=$(@ "$session" createTextViewWithText: "$title" text: "$initialText")
    @ "$instance" setWidgetId: "$wid"
    echo "$instance"
}

__Yutani__TextView__getText() {
  echo "$(_ivar text)"; return
}

__Yutani__TextView___setText_() {
  local t="$1"
  _ivar_set text "$t"
}

__Yutani__TextView__setText_() {
  local newText="$1"
    local newText="$1" session wid
    session="$(_ivar session)"
    wid="$(_ivar widgetId)"
    _ivar_set text "$newText"
    @ "$session" setText: "$newText" on: "$wid"
}

__Yutani__TextView__appendText_() {
  local moreText="$1"
    local moreText="$1" session wid currentText
    session="$(_ivar session)"
    wid="$(_ivar widgetId)"
    currentText="$(_ivar text)"
    currentText="${currentText}${moreText}"
    _ivar_set text "$currentText"
    @ "$session" setText: "$currentText" on: "$wid"
}

__Yutani__TextView__clear() {
    local session wid
    session="$(_ivar session)"
    wid="$(_ivar widgetId)"
    _ivar_set text ""
    @ "$session" setText: "" on: "$wid"
}
