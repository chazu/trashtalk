#!/usr/bin/env bash
# Generated by Trashtalk Compiler (jq) - DO NOT EDIT
# Source: Environment.trash
# Generated: 2026-01-06T00:53:10

__Environment__superclass="Object"
__Environment__instanceVars=""
__Environment__classInstanceVars=""
__Environment__traits=""
__Environment__sourceHash="c8f505b6169afa16097c09571a90794660123d2cd178e0b3a8d3582466c1f3de"

__Environment__source() {
  cat <<'__TRASHTALK_SOURCE_EOF__'
# Environment - Instance storage layer for Trashtalk
# This class provides the low-level storage API that the runtime uses
# to persist and retrieve instances. When compiled with Procyon,
# it becomes a fast native binary that trash.bash can call.
#
# Usage from Bash:
#   data=$(@ Environment get: $instance_id)
#   @ Environment set: $instance_id to: "$json_data"
#   @ Environment delete: $instance_id
#   ids=$(@ Environment findByClass: Counter)
#   exists=$(@ Environment exists: $instance_id)
#
Environment subclass: Object

  # Get instance data by ID
  # Returns JSON string or empty if not found
  classMethod: get: instanceId [
    ^ instanceId
  ]

  # Store instance data
  # instanceId - the instance ID (e.g., counter_abc123)
  # data - JSON string to store
  classMethod: set: instanceId to: data [
    ^ instanceId
  ]

  # Delete an instance by ID
  classMethod: delete: instanceId [
    ^ instanceId
  ]

  # Find all instances of a given class
  # Returns newline-separated list of instance IDs
  classMethod: findByClass: className [
    ^ className
  ]

  # Check if an instance exists
  # Returns 1 if exists, 0 if not
  classMethod: exists: instanceId [
    ^ instanceId
  ]

  # Get all instance IDs (for debugging)
  classMethod: listAll [
    ^ 0
  ]

  # Count instances of a class
  classMethod: countByClass: className [
    ^ 0
  ]
__TRASHTALK_SOURCE_EOF__
}

__Environment__class__get_() {
  local instanceId="$1"
  echo "$instanceId"; return
}

__Environment__class__set_to_() {
  local instanceId="$1"
  local data="$2"
  echo "$instanceId"; return
}

__Environment__class__delete_() {
  local instanceId="$1"
  echo "$instanceId"; return
}

__Environment__class__findByClass_() {
  local className="$1"
  echo "$className"; return
}

__Environment__class__exists_() {
  local instanceId="$1"
  echo "$instanceId"; return
}

__Environment__class__listAll() {
  echo 0
}

__Environment__class__countByClass_() {
  local className="$1"
  echo 0
}
