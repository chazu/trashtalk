#!/usr/bin/env bash
# Generated by Trashtalk Compiler (jq) - DO NOT EDIT
# Source: Environment.trash
# Generated: 2025-12-27T02:41:07

__Environment__superclass="Object"
__Environment__instanceVars=""
__Environment__classInstanceVars=""
__Environment__traits=""

__Environment__class__path() {
  echo $_ENV_DIR
}

__Environment__class__sessionId() {
  echo $TRASH_SESSION_ID
}

__Environment__class__list() {
    _env_list
}

__Environment__class__listClass_() {
  local className="$1"
    _env_list "$1"
}

__Environment__class__count() {
    local count=0
    local id
    for id in $(_env_list); do
        ((count++))
    done
    echo "$count"
}

__Environment__class__countClass_() {
  local className="$1"
    local count=0
    local id
    for id in $(_env_list "$1"); do
        ((count++))
    done
    echo "$count"
}

__Environment__class__get_() {
  local instanceId="$1"
    _env_get "$1"
}

__Environment__class__exists_() {
  local instanceId="$1"
    if _env_exists "$1"; then
        echo "true"
        else
        echo "false"
    fi
}

__Environment__class__delete_() {
  local instanceId="$1"
    _env_delete "$1"
}

__Environment__class__cleanup() {
    local id
    for id in $(_env_list); do
        _env_delete "$id"
    done
    echo "Environment cleared"
}

__Environment__class__info() {
    local count=0
    local id
    for id in $(_env_list); do
        ((count++))
    done
    echo "Environment Info"
    echo " Session ID: $TRASH_SESSION_ID"
    echo " Path: $_ENV_DIR"
    echo " Objects: $count"
}

__Environment__class__inspect() {
    local id data class classes

    echo "Environment Contents:"

    # Get unique classes
    classes=$(for id in $(_env_list); do
        data=$(_env_get "$id")
        echo "$data" | jq -r '.class // "unknown"'
    done | sort -u)

        # Count each class
        for class in $classes; do
            local count
            count=$(_env_list "$class" | wc -l | tr -d ' ')
            echo " $class: $count"
        done
}
