#!/usr/bin/env bash
# Generated by Trashtalk Compiler (jq) - DO NOT EDIT
# Source: Counter.trash
# Generated: 2026-01-09T15:37:44

__Counter__superclass="Object"
__Counter__instanceVars="value:0 step:1"
__Counter__classInstanceVars=""
__Counter__traits="Persistable"
__Counter__sourceHash="bb22fc5d7f74fb53ac4c4dccb6e6cab71501c7416b6250fe4d52f05c54490e45"

__Counter__source() {
  cat <<'__TRASHTALK_SOURCE_EOF__'
# Counter - A simple counter class demonstrating Trashtalk DSL
# Instance variables use Smalltalk-style inference: value -> $(_ivar value)
Counter subclass: Object
  include: Persistable
  instanceVars: value:0 step:1

  method: new [
    | id |
    id := $(_generate_instance_id Counter)
    _create_instance Counter $id
    ^ $id
  ]

  method: getValue [
    ^ value + 0
  ]

  method: getStep [
    ^ step + 0
  ]

  method: setValue: val [
    value := val + 0
  ]

  method: setStep: val [
    step := val + 0
  ]

  method: increment [
    | newVal |
    newVal := value + step
    value := newVal + 0
    ^ newVal + 0
  ]

  method: decrement [
    | newVal |
    newVal := value - step
    value := newVal + 0
    ^ newVal + 0
  ]

  method: incrementBy: amount [
    | newVal |
    newVal := value + amount
    value := newVal + 0
  ]

  method: reset [
    value := 0 + 0
  ]

  classMethod: description [
    ^ "A simple counter"
  ]
__TRASHTALK_SOURCE_EOF__
}

__Counter__value() {
  echo "$(_ivar value)"; return
}

__Counter__value_() {
  _ivar_set value "$1"
}

__Counter__getValue() {
  echo "$(_ivar value)"; return
}

__Counter__setValue_() {
  _ivar_set value "$1"
}
__Counter__step() {
  echo "$(_ivar step)"; return
}

__Counter__step_() {
  _ivar_set step "$1"
}

__Counter__getStep() {
  echo "$(_ivar step)"; return
}

__Counter__setStep_() {
  _ivar_set step "$1"
}

__Counter__new() {
  local id
  id=$(_generate_instance_id Counter)
  _create_instance Counter $id
  echo $id
}

__Counter__getValue() {
  echo "$(( $(_ivar value) + 0 ))"; return
}

__Counter__getStep() {
  echo "$(( $(_ivar step) + 0 ))"; return
}

__Counter__setValue_() {
  local val="$1"
  _ivar_set value "$(( $val + 0 ))"
}

__Counter__setStep_() {
  local val="$1"
  _ivar_set step "$(( $val + 0 ))"
}

__Counter__increment() {
  local newVal
  newVal="$(( $(_ivar value) + $(_ivar step) ))"
  _ivar_set value "$(( $newVal + 0 ))"
  echo "$(( $newVal + 0 ))"; return
}

__Counter__decrement() {
  local newVal
  newVal="$(( $(_ivar value) - $(_ivar step) ))"
  _ivar_set value "$(( $newVal + 0 ))"
  echo "$(( $newVal + 0 ))"; return
}

__Counter__incrementBy_() {
  local amount="$1"
  local newVal
  newVal="$(( $(_ivar value) + $amount ))"
  _ivar_set value "$(( $newVal + 0 ))"
}

__Counter__reset() {
  _ivar_set value "$(( 0 + 0 ))"
}

__Counter__class__description() {
  echo "A simple counter"
}
