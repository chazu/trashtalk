#!/usr/bin/env bash
# Generated by Trashtalk Compiler (jq) - DO NOT EDIT
# Source: Time.trash
# Generated: 2026-01-11T02:03:56

__Time__superclass="Object"
__Time__instanceVars=""
__Time__classInstanceVars=""
__Time__traits=""
__Time__sourceHash=""

__Time__class__now() {
    date +%s
}

__Time__class__nowMillis() {
    echo "$(($(date +%s) * 1000))"
}

__Time__class__nowFormatted_() {
  local format="$1"
    date +"$1"
}

__Time__class__nowISO() {
    date -u +"%Y-%m-%dT%H:%M:%SZ"
}

__Time__class__format_as_() {
  local timestamp="$1"
  local format="$2"
    if [[ "$OSTYPE" == "darwin"* ]]; then
        date -r "$1" +"$2"
        else
        date -d "@$1" +"$2"
    fi
}

__Time__class__formatISO_() {
  local timestamp="$1"
    if [[ "$OSTYPE" == "darwin"* ]]; then
        date -r "$1" -u +"%Y-%m-%dT%H:%M:%SZ"
        else
        date -d "@$1" -u +"%Y-%m-%dT%H:%M:%SZ"
    fi
}

__Time__class__formatRelative_() {
  local timestamp="$1"
    local now diff
    now=$(date +%s)
    diff=$((now - $1))

    if [[ $diff -lt 60 ]]; then
        echo "${diff} seconds ago"
        elif [[ $diff -lt 3600 ]]; then
            echo "$((diff / 60)) minutes ago"
            elif [[ $diff -lt 86400 ]]; then
                echo "$((diff / 3600)) hours ago"
                else
                echo "$((diff / 86400)) days ago"
            fi
}

__Time__class__parse_format_() {
  local dateString="$1"
  local format="$2"
    if [[ "$OSTYPE" == "darwin"* ]]; then
        date -j -f "$2" "$1" +%s 2>/dev/null || echo ""
        else
        date -d "$1" +%s 2>/dev/null || echo ""
    fi
}

__Time__class__sleep_() {
  local seconds="$1"
    sleep "$1"
}

__Time__class__sleepMillis_() {
  local millis="$1"
    sleep "$(echo "scale=3; $1 / 1000" | bc)"
}

__Time__class__since_() {
  local startTime="$1"
    local now
    now=$(date +%s)
    echo $((now - $1))
}

__Time__class__from_to_() {
  local startTime="$1"
  local endTime="$2"
    echo $(($2 - $1))
}

__Time__class__add_to_() {
  local seconds="$1"
  local timestamp="$2"
    echo $(($2 + $1))
}

__Time__class__subtract_from_() {
  local seconds="$1"
  local timestamp="$2"
    echo $(($2 - $1))
}

__Time__class__yearOf_() {
  local timestamp="$1"
    @ "$_CLASS" format: "$1" as: "%Y"
}

__Time__class__monthOf_() {
  local timestamp="$1"
    @ "$_CLASS" format: "$1" as: "%-m"
}

__Time__class__dayOf_() {
  local timestamp="$1"
    @ "$_CLASS" format: "$1" as: "%-d"
}

__Time__class__hourOf_() {
  local timestamp="$1"
    @ "$_CLASS" format: "$1" as: "%-H"
}

__Time__class__minuteOf_() {
  local timestamp="$1"
    @ "$_CLASS" format: "$1" as: "%-M"
}

__Time__class__secondOf_() {
  local timestamp="$1"
    @ "$_CLASS" format: "$1" as: "%-S"
}

__Time__class__weekdayOf_() {
  local timestamp="$1"
    @ "$_CLASS" format: "$1" as: "%w"
}

__Time__class__today() {
    if [[ "$OSTYPE" == "darwin"* ]]; then
        date -j -f "%Y-%m-%d" "$(date +%Y-%m-%d)" +%s
        else
        date -d "$(date +%Y-%m-%d)" +%s
    fi
}

__Time__class__tomorrow() {
    local today
    today=$(@ "$_CLASS" today)
    echo $((today + 86400))
}

__Time__class__yesterday() {
    local today
    today=$(@ "$_CLASS" today)
    echo $((today - 86400))
}
